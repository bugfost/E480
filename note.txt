时光穿梭

1、版本回退

$ git reset --hard HEAD~X
或者：git reset --hard 版本号前4位






3、管理修改
Git管理的是修改，而不是文件

——————    —    —    —    —    —    —
|     版本库     |                                             |
——————    —    —    —    —    —    —
.            |                                        |
.    git diff --cached                git diff head
.    git diff --staged                         |
.            |                                        |
——————    —    —    —    —    —    —
|     暂存区     |                                            |
——————                                             |
.            |                                                     |
.        git diff                                                |
.            |                                                     |
——————                                             |
|     工作区     |                                            |
——————    —    —    —    —    —    —

git diff --cached 比较的是暂存区的文件与仓库分支里（上次git commit 后的内容）的区别。
git diff HEAD -- 命令可以查看工作区和版本库里面最新版本的区别。


4、撤销修改

$ git checkout -- readme.txt

让这个文件回到最近一次git commit或git add时的状态。

一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；

一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。

总结1：

场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git checkout -- file。

$ git checkout -- readme.txt

场景2：当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git reset HEAD <file>，就回到了场景1，第二步按场景1操作。

$ git reset HEAD readme.txt
先回到工作区
$ git checkout -- readme.txt
再撤回修改

场景3：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退一节，不过前提是没有推送到远程库。

$ git reset --hard HEAD~X


总结2：

1.文件操作和对应的区变化
文件 | 文件修改后 | add  | add后   | commit（提交） | commit后
        |  工作区       |          | 暂存区 |                            |当前分支（head）
2.
add 之前的状态还原 git checkout -- [文件名]
add 之后的文件还原 git reset --hard HEAD 再git checkout -- [文件名]
commit 之后的文 件还原 git reset --hard HEAD^或 git reset --hard [版本号]
3.
正常操作是先git status 通过git状态选择对应的回退操作
实际工作中没这么细致, 有时是技术不到家，有时是想保留备份，通常都会先提交保留一个版本，然后选择是否回退,虽然很少会回到未来~
4.
像我自己写教程也会有这样的问题，新手卡死的点，老手完全注意不到
所以廖的这个教程被好多人推荐，懂得人觉得他讲的很细致,点都讲到了,新手看的时候一头雾水
我就是实例,看了n多次


5、删除文件

$ rm test.txt

直接删除文件

一是确实要从版本库中删除该文件，那就用命令git rm删掉，并且git commit：
$ git rm test.txt
$ git commit -m "remove test.txt"

另一种情况是删错了，恢复方法如下

$ git checkout -- test.txt

git checkout其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。



总结：

当你要删除文件的时候，可以采用命令：rm test.txt

这个时候有两种情况

第一种情况:的确要把test.txt删掉，那么可以执行
                   git rm test.txt
                   git commit -m "remove test.txt"
                   文件被删除，且删除记录上传本地库

第二种情况:误删文件，想恢复，这时候还没有commit -m "remove test.txt"，执行git checkout test.txt将文件恢复。

如果执行完git commit -m "remove test.txt"后就不能用checkout恢复了，得用git reset --hard HEAD^


远程仓库

首先要创建SSHkey

$  ssh-keygen -t rsa -C "bugfost@gmail.com"
Generating public/private rsa key pair.
Enter file in which to save the key (/c/Users/bugsoft/.ssh/id_rsa): /c/Users/bugsoft/telnet/id_rsa

这里可以自己选择存放SSH密钥的位置

然后要登陆github账户，进入账户设置
用记事本打开id_ras.pub将内容添加至新的sshkey中

添加远程仓库
有仓库就可以直接使用，没有要去网站建立一个仓库
(填写名字确认就可以了)

下面就是本地连接远程仓库了，做映射
git remote add origin git@github.com:bugfost(账户名)/liantong.git(新建的仓库或者自己已有的仓库均可)

最后推送自己的本地内容到远程仓库
$ git push -u origin master
$ git push origin master（后续版本）


cd~(进入用户主目录)
cd .ssh(进入.ssh目录)
ls(列出.ssh目录的文件，可以看到id_rsa  id_rsa.pub两个文件)
cat ~/.ssh/id_rsa.pub(可以看到id_rsa.pub文件的内容，复制即可)

git remote －v 查看远程origin 
git remote rm origin 删除远程origin 


总结：

要关联一个远程库，使用命令git remote add origin git@server-name:path/repo-name.git；

关联后，使用命令git push -u origin master第一次推送master分支的所有内容；

此后，每次本地提交后，只要有必要，就可以使用命令git push origin master推送最新修改

从远程库克隆

用命令git clone克隆一个本地库：
git clone git@github.com:bugfost/仓库名.git

总结：

要克隆一个仓库，首先必须知道仓库的地址，然后使用git clone命令克隆。

Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快。


分支管理：

创建与合并分支

HEAD严格来说不是指向提交，而是指向master，master才是指向提交的，所以，HEAD指向的就是当前分支
指针指向分支，分支指向提交
指针指向哪里分支就在哪里
直接把master指向dev的当前提交，就完成了合并

创建dev分支，然后切换到dev分支
$ git checkout -b dev

git checkout命令加上-b参数表示创建并切换，相当于以下两条命令：

$ git branch dev
$ git checkout dev
Switched to branch 'dev'

我们把dev分支的工作成果合并到master分支上：
$ git merge dev
git merge命令用于合并指定分支到当前分支

删除dev分支
$ git branch -d dev

总结：

Git鼓励大量使用分支：

查看分支：git branch

创建分支：git branch <name>

切换分支：git checkout <name>

创建+切换分支：git checkout -b <name>

合并某分支到当前分支：git merge <name>

删除分支：git branch -d <name>








